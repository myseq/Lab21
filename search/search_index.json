{"config":{"lang":["en"],"separator":"[\\s\\-]+","pipeline":["stopWordFilter"]},"docs":[{"location":"","title":"Lab21 (README.md)","text":"<p><code>Lab21</code> is a series of tutorials created for learning different technologies. </p> <p>It is mostly developed with  DevOps model in mind.  Each of the tutorial comes with <code>README.md</code>, and anyone can follow along.</p> <p>I've invested a lot of my time  in building them as small projects, and make the improvement happen from time to time.</p>","tags":["lab21"]},{"location":"#projects","title":"Projects","text":"Code Project Year 1 Alpha Using Ansible playbooks for sysadm operations 2021 2 Beta Load-balance web servers with <code>Nginx</code> 2022 3 Gamma (incomplete) IaaS infra mgmt operation with dockers and K8s 2022","tags":["lab21"]},{"location":"#links","title":"Links","text":"<ul> <li>Know your Greek alphabet</li> <li>In theory, ....</li> <li>Only dead fish ...</li> </ul>","tags":["lab21"]},{"location":"research/","title":"Researches","text":"<p>A series of topics for R&amp;D.</p>","tags":["HTTP","WebAuthn","Passkey","Opensource","LLM"]},{"location":"research/#http3","title":"HTTP/3","text":"<ul> <li>AIOQuic [python3]</li> <li>open source h3i</li> <li>Cloudflare QUIC https://cloudflare-quic.com/<ul> <li>h3i </li> <li>QUICHE</li> <li>Get a head start with QUIC</li> <li>HTTP/3: From root to tip</li> </ul> </li> </ul>","tags":["HTTP","WebAuthn","Passkey","Opensource","LLM"]},{"location":"research/#httpx","title":"HTTP/x","text":"<ul> <li> <p>What version of HTTP are you connecting with?</p> <ul> <li>HTTP/0.9 From Scratch and the source</li> <li>HTTP/1.0 From Scratch and the source</li> </ul> </li> <li> <p>HyperText Transfer Protocol (HTTP)</p> <ul> <li>https://http.dev/1.0 and RFC 1945</li> <li>https://http.dev/1.1 and RFC 2616, RFC 7230, RFC 7235</li> <li>https://http.dev/2 and RFC 7540</li> <li>https://http.dev/3 and RFC 9114</li> </ul> </li> </ul>","tags":["HTTP","WebAuthn","Passkey","Opensource","LLM"]},{"location":"research/#webauthpasskey","title":"WebAuth/Passkey","text":"<ol> <li>WebAuthn.io: Demo</li> <li>Ars Technica: Passkey technology is elegant, but it\u2019s most definitely not usable security</li> <li></li> </ol>","tags":["HTTP","WebAuthn","Passkey","Opensource","LLM"]},{"location":"research/#opensource","title":"Opensource","text":"<ol> <li>Dev.to: 17 Mindblowing Github Repositories You Never Knew Existed</li> <li>Help Net Security: Hottest cybersecurity open-source tools of the month: December 2024</li> <li>GitHub: Evilginx 3.0</li> <li></li> </ol>","tags":["HTTP","WebAuthn","Passkey","Opensource","LLM"]},{"location":"research/#aillm","title":"AI/LLM","text":"<ol> <li>Ollama <ul> <li>Ollama</li> <li>Ollama library models</li> <li>GitHub</li> </ul> </li> </ol>","tags":["HTTP","WebAuthn","Passkey","Opensource","LLM"]},{"location":"alpha/","title":"README (Alpha)","text":"<p>This is a simple tutorial to learn on basic Ansible playbook to perform sysadm operation.  </p>","tags":["Multipass","Ubuntu","Ansible"]},{"location":"alpha/#prerequisites","title":"Prerequisites","text":"<p>We need to have Multipass installed to complete this tutorial. And this tutorial will cover:  </p> <ol> <li>IaaS provisioning<ul> <li>creating 5 VM hosts</li> <li>create ansible hosts file</li> </ul> </li> <li>SysAdm operation (Ansible playbooks)<ul> <li>check if all the hosts are online</li> <li>run ad hoc command at all hosts</li> <li>check disk space usage with playbook</li> <li>update and upgrade packages for all hosts</li> <li>reboot and shutdown</li> </ul> </li> </ol> <p>Here's the simple architecture:</p> <pre><code>multipass/\n\u251c\u2500\u2500 jimny                # VM Host (control node)\n\u251c\u2500\u2500 kiko                 # VM host (managed node)\n\u251c\u2500\u2500 lilo                 # VM host (managed node)\n\u251c\u2500\u2500 mimo                 # VM host (managed node)\n\u2514\u2500\u2500 nino                 # VM host (managed node)\n</code></pre> <p>We will run a series of SysAdm Operation from control node to managed node.</p>","tags":["Multipass","Ubuntu","Ansible"]},{"location":"alpha/#iaas-provisioning","title":"IaaS Provisioning","text":"<p>To provision virtual machines with Multipass.</p>","tags":["Multipass","Ubuntu","Ansible"]},{"location":"alpha/#create-and-setup-vm-host-control-node","title":"Create and setup VM host (Control Node)","text":"<pre><code>PS&gt; multipass launch -n jimny --cloud-init ci_update.yml\n</code></pre> <p>Setup Ansible <pre><code>PS&gt; multipass shell jimny\n</code></pre> <pre><code>ubuntu@jimny:~$ sudo apt-add-repository ppa:ansible/ansible\nubuntu@jimny:~$ sudo apt update\nubuntu@jimny:~$ sudo apt install ansible\nubuntu@jimny:~$ ansible-config init --disabled &gt; ansible.init\n</code></pre></p> <p>Create inventory file (/etc/ansible/hosts) <pre><code>$ cat /etc/ansible/hosts\n[all:vars]\nansible_user=ubuntu\nansible_port=22\nansible_become_method=sudo\nansible_python_interpreter=/usr/bin/python3\n\n[vm]\nkiko ansible_host=kiko.mshome.net\nlilo ansible_host=lilo.mshome.net\nmimo ansible_host=mimo.mshome.net\nnino ansible_host=nino.mshome.net\n\n[ops]\n#jimny ansible_host=jimny.mshome.net\n\n[group_a]\nkiko ansible_host=kiko.mshome.net\n\n[group_b]\nlilo ansible_host=lilo.mshome.net\nmimo ansible_host=mimo.mshome.net\nnino ansible_host=nino.mshome.net\n</code></pre></p> <p>Generate SSH public key <pre><code>ubuntu@jimny:~$ ssh-keygen -t ed25519 -C \"ubuntu@jimny\"\nubuntu@jimny:~$ cat .ssh/id_ed25519.pub\nssh-ed25519 AAAAC3NzaC1lZDI1NTE5AAAAII9Cox0CIU2YiQLH2RdLSjI+nNH/z+kB9XGUvHvtKxgF xx@jimny\nubuntu@jimny:~$ cat &lt;&lt; EOF &gt;&gt; ci_sshkey.yaml\n&gt; #cloud-config\n&gt; users:\n&gt;   - name: ubuntu\n&gt;     no_ssh_fingerprints: true\n&gt;     ssh_authorized_keys:\n&gt;       - ssh-ed25519 AAAAC3NzaC1lZDI1NTE5AAAAII9Cox0CIU2YiQLH2RdLSjI+nNH/z+kB9XGUvHvtKxgF ubuntu@jimny\n&gt;\n&gt; ssh:\n&gt;   emit_keys_to_console: false\n&gt;\n&gt; EOF\nubuntu@jimny:~$\n</code></pre></p>","tags":["Multipass","Ubuntu","Ansible"]},{"location":"alpha/#create-and-setup-vm-hosts-managed-nodes","title":"Create and setup VM hosts (Managed Nodes)","text":"<pre><code>PS&gt; multipass launch -n kiko --cloud-init ci_sshkey.yaml\nPS&gt; multipass launch -n lilo --cloud-init ci_sshkey.yaml\nPS&gt; multipass launch -n mimo --cloud-init ci_sshkey.yaml\nPS&gt; multipass launch -n nino --cloud-init ci_sshkey.yaml\n</code></pre>","tags":["Multipass","Ubuntu","Ansible"]},{"location":"alpha/#show-the-ansible-inventory-list-of-vm-hosts","title":"Show the Ansible inventory list of VM hosts","text":"<pre><code>ubuntu@jimny:~$ ansible-inventory --list -y\n</code></pre>","tags":["Multipass","Ubuntu","Ansible"]},{"location":"alpha/#sysadm-operation","title":"SysAdm Operation","text":"<p>To manage system operation with Ansible playbook. </p>","tags":["Multipass","Ubuntu","Ansible"]},{"location":"alpha/#1-check-if-hosts-are-online","title":"1. Check if hosts are online","text":"<pre><code>ubuntu@jimny:~$ ansible all -m ping\nlilo | SUCCESS =&gt; {\n    \"changed\": false,\n    \"ping\": \"pong\"\n}\nkiko | SUCCESS =&gt; {\n    \"changed\": false,\n    \"ping\": \"pong\"\n}\nnino | SUCCESS =&gt; {\n    \"changed\": false,\n    \"ping\": \"pong\"\n}\nmimo | SUCCESS =&gt; {\n    \"changed\": false,\n    \"ping\": \"pong\"\n}\n</code></pre>","tags":["Multipass","Ubuntu","Ansible"]},{"location":"alpha/#2-run-an-ad-hoc-command-at-multiple-hosts","title":"2. Run an ad hoc command at multiple hosts","text":"<pre><code>ubuntu@jimny:~$ ansible all -a \"lsb_release -a\"\nkiko | CHANGED | rc=0 &gt;&gt;\nDistributor ID: Ubuntu\nDescription:    Ubuntu 22.04.1 LTS\nRelease:        22.04\nCodename:       jammyNo LSB modules are available.\nlilo | CHANGED | rc=0 &gt;&gt;\nDistributor ID: Ubuntu\nDescription:    Ubuntu 22.04.1 LTS\nRelease:        22.04\nCodename:       jammyNo LSB modules are available.\nmimo | CHANGED | rc=0 &gt;&gt;\nDistributor ID: Ubuntu\nDescription:    Ubuntu 22.04.1 LTS\nRelease:        22.04\nCodename:       jammyNo LSB modules are available.\nnino | CHANGED | rc=0 &gt;&gt;\nDistributor ID: Ubuntu\nDescription:    Ubuntu 22.04.1 LTS\nRelease:        22.04\nCodename:       jammyNo LSB modules are available.\nubuntu@jimny:~$\n</code></pre>","tags":["Multipass","Ubuntu","Ansible"]},{"location":"alpha/#3-check-the-uptime-and-login-user-at-specific-host","title":"3. Check the uptime and login user at specific host","text":"<pre><code>ubuntu@jimny:~$ ansible kiko -a \"uptime\"\nkiko | CHANGED | rc=0 &gt;&gt;\n 17:08:51 up 6 min,  1 user,  load average: 0.01, 0.01, 0.00\nubuntu@jimny:~$ ansible kiko -a \"w\"\nkiko | CHANGED | rc=0 &gt;&gt;\n 17:08:57 up 6 min,  1 user,  load average: 0.01, 0.00, 0.00\nUSER     TTY      FROM             LOGIN@   IDLE   JCPU   PCPU WHAT\nubuntu   pts/0    172.24.196.44    17:08    0.00s  0.07s  0.00s w\nubuntu@jimny:~$\n</code></pre>","tags":["Multipass","Ubuntu","Ansible"]},{"location":"alpha/#4-install-nmap-package-at-specific-host","title":"4. Install nmap package at specific host","text":"<pre><code>ansible kiko -b -m apt -a \"name=nmap state=latest\"\nubuntu@jimny:~$ ansible kiko -a \"nmap jimny\"\nkiko | CHANGED | rc=0 &gt;&gt;\nStarting Nmap 7.80 ( https://nmap.org ) at 2022-11-09 17:11 +08\nNmap scan report for jimny (172.24.196.44)\nHost is up (0.00072s latency).\nrDNS record for 172.24.196.44: jimny.mshome.net\nNot shown: 999 closed ports\nPORT   STATE SERVICE\n22/tcp open  ssh\n\nNmap done: 1 IP address (1 host up) scanned in 0.03 seconds\nubuntu@jimny:~$\n</code></pre>","tags":["Multipass","Ubuntu","Ansible"]},{"location":"alpha/#5-ping-all-hosts-with-playbook","title":"5. PING all hosts (with playbook)","text":"<pre><code>$ ansible-playbook asb_ping.yml\n$ ansible-playbook asb_ping.yml -l group_a\n$ ansible-playbook asb_ping.yml -l group_b\n</code></pre>","tags":["Multipass","Ubuntu","Ansible"]},{"location":"alpha/#6-check-disk-space-usage-with-playbook","title":"6. Check disk space usage (with playbook)","text":"<pre><code>ubuntu@jimny:~/playbooks$ ansible-playbook asb_df.yml\nubuntu@jimny:~/playbooks$ ansible-playbook asb_df.yml -l group_a,group_b\n</code></pre>","tags":["Multipass","Ubuntu","Ansible"]},{"location":"alpha/#7-updateupgrade-packages-for-all-hosts","title":"7. Update/upgrade packages for all hosts","text":"<pre><code>ubuntu@jimny:~/playbooks$ ansible-playbook asb_update.yml\n</code></pre>","tags":["Multipass","Ubuntu","Ansible"]},{"location":"alpha/#8-reboot-hosts","title":"8. Reboot hosts","text":"<pre><code>ubuntu@jimny:~/playbooks$ ansible-playbook asb_reboot.yml\n</code></pre>","tags":["Multipass","Ubuntu","Ansible"]},{"location":"alpha/#9-shutdown-all-hosts","title":"9. Shutdown all hosts","text":"<pre><code>ubuntu@jimny:~/playbooks$ ansible-playbook asb_poweroff.yml\n</code></pre> <p>Verify if all VM hosts are shutdown</p> <pre><code>PS&gt; multipass list\nName                    State             IPv4             Image\njimny                   Running           172.24.196.44    Ubuntu 22.04 LTS\nkiko                    Stopped           --               Ubuntu 22.04 LTS\nlilo                    Stopped           --               Ubuntu 22.04 LTS\nmimo                    Stopped           --               Ubuntu 22.04 LTS\nnino                    Stopped           --               Ubuntu 22.04 LTS\n</code></pre>","tags":["Multipass","Ubuntu","Ansible"]},{"location":"alpha/#links","title":"Links","text":"<ul> <li>Multipass quick installation</li> <li>Sample cloud_init files </li> </ul>","tags":["Multipass","Ubuntu","Ansible"]},{"location":"beta/","title":"README (Beta)","text":"<p>This is to simulate on how <code>Nginx</code> can be used as load-balancer and web backend with Multipass.</p>","tags":["Nginx","Multipass","Load-Balancer"]},{"location":"beta/#prerequisites","title":"Prerequisites","text":"<p>Below are the cloud_init files needed.</p> Files Description 1 <code>ci_backend1.yaml</code> Setup Nginx web server and simulate the backend server_1 2 <code>ci_backend2.yaml</code> Setup Nginx web server and simulate the backend server_2 3 <code>ci_backend3.yaml</code> Setup Nginx web server and simulate the backend server_3 4 <code>ci_lbr.yaml</code> Setup Nginx web server and work as the load balancer <p>With the YAML files, it took me less than 8 min to setup the all the 4 servers.</p>","tags":["Nginx","Multipass","Load-Balancer"]},{"location":"beta/#tutorial","title":"Tutorial","text":"<p>We will create 4 instances of servers with 1 being the reverse-proxy and load-balancer. The other 3 will act as backend web server.</p> <p>Here's the simple architecture:</p> <pre><code>Load-Balancer (LBR)\n\u251c\u2500\u2500 backend1                # Backend server_1\n\u251c\u2500\u2500 backend2                # Backend server_2\n\u2514\u2500\u2500 backend3                # Backend server_3\n</code></pre>","tags":["Nginx","Multipass","Load-Balancer"]},{"location":"beta/#create-lbr","title":"Create LBR","text":"<pre><code>PS&gt; multipass launch -n lbr --cloud-init ci_lbr.yaml\n</code></pre>","tags":["Nginx","Multipass","Load-Balancer"]},{"location":"beta/#create-3-backend-servers","title":"Create 3 Backend Servers","text":"<pre><code>PS&gt; multipass launch -n backend1 --cloud-init ci_backend1.yaml\nPS&gt; multipass launch -n backend2 --cloud-init ci_backend2.yaml\nPS&gt; multipass launch -n backend3 --cloud-init ci_backend3.yaml\n</code></pre>","tags":["Nginx","Multipass","Load-Balancer"]},{"location":"beta/#testing","title":"Testing","text":"<p>Open browser at http://lbr.mshome.net/ and keep refresh.</p>","tags":["Nginx","Multipass","Load-Balancer"]},{"location":"beta/#links","title":"Links","text":"<ul> <li>See Load-Balance with Nginx.</li> </ul>","tags":["Nginx","Multipass","Load-Balancer"]},{"location":"gamma/","title":"README (Gamma)","text":"<p>This is an interesting tutorial that focus on how operation works in IaaS. In this tutorial, we will experience in:</p> <ul> <li>create VM hosts (with multipass)</li> <li>create custom docker image (with docker compose)</li> <li>create <code>k8s</code> cluster that load-balance an app (Nginx web)</li> <li>create a utility to inspect and monitor the patch operation (webping.py)</li> <li>simulate docker patching on mutable infrastructure </li> </ul>","tags":["docker","k8s","Multipass","Python","IaaS"]},{"location":"gamma/#pre-requisites","title":"Pre-requisites","text":"<p>We need to have Multipass installed to complete this tutorial. And we need to allocate 16GB RAM and 20G disk space.</p>","tags":["docker","k8s","Multipass","Python","IaaS"]},{"location":"gamma/#architecture","title":"Architecture","text":"<p>Here's the architecture:</p> <pre><code>             -------------------------------------------\n             |                       ______            |\n             |                |-----| mino |           |\n ______      |   ______       |      ======            |\n| kiko | ------ | lilo | ---- |         k8s worker1    |\n ======      |   ======       |      ______            |\n    kubectl  |    k8s master  |-----| nino |           |\n             |                       ======            |\n             |                          k8s worker2    |\n             |                                         | \n             ----------- k8s cluster -------------------\n</code></pre> <p>And here is the table of nodes.</p> VM Host Role 1 kiko K8s client ; docker compose; webping.py 2 lilo K8s master node 3 mino K8s worker node 1 4 nino K8s worker node 2","tags":["docker","k8s","Multipass","Python","IaaS"]},{"location":"gamma/#tutorial","title":"Tutorial","text":"<ol> <li>Creating 4 VM which include: <ul> <li>1 k8s client, 1 k8s master node, and 2 k8s worker node</li> </ul> </li> <li>Deploy unpatch app at k8s clueter with load-balancer</li> <li>Develop a utility to check and monitor the patch operation<ul> <li>webping.py</li> </ul> </li> <li>Perform patching operation on mutable infrastructure<ul> <li>Deploy the new image with k8s</li> <li>Simulate patching operation over unpatch app with patched app</li> </ul> </li> </ol>","tags":["docker","k8s","Multipass","Python","IaaS"]},{"location":"gamma/#1-create-4-vm","title":"1. Create 4 VM","text":"<ul> <li>create 4 VM</li> <li>install and configure k8s client</li> <li>install and configure k8s master node</li> <li>install and configure k8s worker nodes</li> </ul>","tags":["docker","k8s","Multipass","Python","IaaS"]},{"location":"gamma/#2-deploy-unpatch-app","title":"2. Deploy Unpatch App","text":"<ul> <li>create custom unpatch docker image (with label <code>unpatch</code>)</li> <li>create custom patched docker image (with label <code>patched</code>)</li> <li>deploy the <code>unpatch</code> docker image to k8s</li> </ul> <pre><code>\n</code></pre>","tags":["docker","k8s","Multipass","Python","IaaS"]},{"location":"gamma/#3-develop-webpingpy-utility","title":"3. Develop webping.py Utility","text":"<ul> <li>create webping with Python</li> <li>test and monitor <code>unpatch</code> docker runtime/container</li> </ul> <pre><code>\n</code></pre>","tags":["docker","k8s","Multipass","Python","IaaS"]},{"location":"gamma/#4-perform-patching-operation","title":"4. Perform Patching Operation","text":"<ul> <li>test and monitor app (running on <code>unpatch</code> docker runtime/container)</li> <li>deploy the <code>patched</code> docker image over the <code>unpatch</code> container</li> <li>test and monitor app (running on <code>patched</code> docker runtime/container)</li> </ul> <pre><code>\n</code></pre>","tags":["docker","k8s","Multipass","Python","IaaS"]},{"location":"gamma/#links","title":"Links","text":"","tags":["docker","k8s","Multipass","Python","IaaS"]},{"location":"tags/","title":"Tags","text":""},{"location":"tags/#ansible","title":"Ansible","text":"<ul> <li>readme.md</li> </ul>"},{"location":"tags/#http","title":"HTTP","text":"<ul> <li>research.md</li> </ul>"},{"location":"tags/#iaas","title":"IaaS","text":"<ul> <li>readme.md</li> </ul>"},{"location":"tags/#llm","title":"LLM","text":"<ul> <li>research.md</li> </ul>"},{"location":"tags/#load-balancer","title":"Load-Balancer","text":"<ul> <li>readme.md</li> </ul>"},{"location":"tags/#multipass","title":"Multipass","text":"<ul> <li>readme.md</li> <li>readme.md</li> <li>readme.md</li> </ul>"},{"location":"tags/#nginx","title":"Nginx","text":"<ul> <li>readme.md</li> </ul>"},{"location":"tags/#opensource","title":"Opensource","text":"<ul> <li>research.md</li> </ul>"},{"location":"tags/#passkey","title":"Passkey","text":"<ul> <li>research.md</li> </ul>"},{"location":"tags/#python","title":"Python","text":"<ul> <li>readme.md</li> </ul>"},{"location":"tags/#ubuntu","title":"Ubuntu","text":"<ul> <li>readme.md</li> </ul>"},{"location":"tags/#webauthn","title":"WebAuthn","text":"<ul> <li>research.md</li> </ul>"},{"location":"tags/#docker","title":"docker","text":"<ul> <li>readme.md</li> </ul>"},{"location":"tags/#k8s","title":"k8s","text":"<ul> <li>readme.md</li> </ul>"},{"location":"tags/#lab21","title":"lab21","text":"<ul> <li>index.md</li> </ul>"}]}